


# Software VPNS




## Differences between **Hardware** and **Software VPNs**









VPN (Encrypted                              Tunnel)
SWITCH ----------- FIrewall ---------------- Internet     -------- Site B
 
Relies on
Firewall to 
send data to
SiteB





Home User ( Who wants to access Site A and Site B) : Old school port forwarding is insecure, due to nothing stopping anybody from using open port 3389 which would be apparent in a scan, but if you have a firewall policy that allows one IP address to access it, but still insecure. Once you forward the ports, and when you do a scan , if you get locked out due to a scan, try from a VPN, get blocked, try another etc .... 

Solution? Install Endpoint Firewall Software on the Home User's Client Workstation. The application will run on the PC, the application would have protections through a policy preventing the user from removing the software. What is the best way to deplot VPNs on Endpoints, you do not want a separate database of usernames and passwords. Use SSO and Active Directory. You want the login credentials from your software firewall to work with the credentials for teh Active Directory/Windows Domain. 


We should have **2FA** : Banks usually use them. When he worked for RBC and worked from home, the system would prompt him to use the *Token Password*, which is a timed code generated by the software. 

Banks *lock down physical ports on computers* : images with the policy of a keyboard being in USB1 , Mouse in USB2, and nothing else can be accepted in any other port. 


He worked for one of the largest banks in the country in network-cable installations, or structured wiring. The bank had older cabling infrastructure, and older network topography ( token ring, which used Type-1 Cabling). They were trying to save money by using Token Ring cabling to Ethernet. They came up with a special adapter that converts the signal. They were placing all the connectors on, and what he had to do is to take thw CISCO switch , partch all the poerts on the one side of the cisco switch, and apply switches on the other side. All the ports did not work. No one knew why , and it turned out all the ports are disabled. He reset the port, and the CISCO switch reset itself to ERR mode after resetting. The only way that the adapters work was to have adapter----cabling ----- adapter, and if the cabling failed, the switches would register the failure as a short. 


- Some banks in rural communities do not have proper server rooms. Buildings need HVAC to cool the servers. Old buildings are very difficult to make adaptable. Someone came up with a design where he would put an air conditioning unit built into the side of a server cabinet. 


- In Server Environments, *Humidity* and *Heat* Limit the lifespan on any device. 
  

- The most efficient way to cool the environment is *raised-floor cooling*, where there is a sub-floor 2 feet below that is cooled. You can use the area to run cabling. You can make it a negative-pressure , where the cooling comes in through the floor, and hot air exhausted out. 
  
We would have a VPN server on the inside of the netwrok. There will be port forwarding of the IPSEC ports to the VPN server. Once connecting to the VPN server, you get authenticated, and then you have an encapsulated tunnel from his home to his business. Which means, noone on the internet can see the activities on the tunnel. If you are using 512-bit encryption, they would not be able to see it. Third party view : they see it as VPN traffic, but nothing about what is going on inside. 


>[!todo]
>Zero-Knowledge Tables : Look them up! 

YTou should have a public authenticated certificate. There are **Certificate Authorities**, where the site is affirmed to be owned by the creator, and then after verification, it generates a pair of certificatres that can not be copied. The certificates are downloaded, and he would install the encrypted certificate on the VPN server, ( ONly shaun.com), and the User Certificate (which the user would have to be able to access the website securely). There are *self-signed certificates*, which we SHOULD NOT DO in the real-world!



The origins of the *Software-Based VPNs* comes from businesses. If we have Netflix, and it is Canadian, and we want to watch the American Netflix, any traffic coming from the public IP address on the router connected to the internet (if it is geographically located in halifax) appears to be from Halifax. But we can select an American server, where the traffic appears to be from the US. The Caveat : the most popular VPNs are known by Netflix, where Netflix would detect if 500 users connect to Network from a single IP address (VPN server), then it makes them suspicious. It is a *cat-and-mouse game*!
 
---------------------------------------------------------


If we have *Cloud Serviuces* and **Software VPNs**.  THere was a client who was an insurance broker wanted VOIP. This person had server hardware and several sites. He got tired of maintaining these systems. He was interested in Cloud. Cloud Clients are VPN clients. VIACloudOffice makes a connection to the Voice Server in VIACloud. Just before COVID, he converted from a hardware-based voice system to a software-based cloud solution, and did not experience any downtime. 


It is now a *consumer product*, where there is going to be more private consumer VPN connections than the corporate connections. 


Benefits:  When tunneled  into the VPN server , the two connected networks by default are not firewalled, as if you are connected, you are part of their local area network. That is the primary treason : **Portability and Access to Local Area Resources**.


Back in the day, the carrier would set up cabling to connect two sites together, which was extremely costly. 


When setting up the VPNs, 192.168.1.0/24 is the local area network. Everything on that network is on the same broadcast link./ ARP goes across the entire enwtyropk. When setting up the vpn, it will ask "what would you set up for a subnet mask for VPN network"? the VPN network would have its own subnet, and every client would get assigned an ip address by DHCP. 




----------------------------------



## Software-Defined Network Controller 




This controller is based in software, which is running on a piece of hardware, where the hardware is the firewall + router + switch. He is not connected directly to the controller. He is connected to teh Secure UNIFI cloud. He is communicating to the cotnroller via the cloud. Both are authenticated. When it was first set up, it was made easy by Bluetooth, or plugging it in to a laptop, where he would be redirected to the switch's set up page, where he would be promoted to enter his Unifi credentials. If he does not have an account,  he would set up an account. Everytime he needs to login he would enter his credentials, and use 2FA. If we are not doing a form of this , we would be behind the times. 



Enterprise-Grade ; There is nothing wrong with being able to remotely manage a firewall/vpn. From a customer's point of view, where he would call us and we are the experts, he would not want to hear delays, he would hear that the ticket exists for the issue, and that we woujld have access to fix it. 



 



On Unifi , he would click the **VPN** tab, then *Create-a-Client* , and the information would be available in terms of the client. 



When he did this, the VPN created **ACLs** or **rules**, and then it *pushes it to the switches*, which allows all the switches to be able to communicate. 


It is average to gave 14 WIFI access points. Automatically : **Any Lane can talk to Any Lane**! This induces us to go in and set manually the rules.